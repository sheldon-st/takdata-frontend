{
  "openapi": "3.1.0",
  "info": {
    "title": "TAK Manager API",
    "description": "Backend API for managing TAK server data enablements. Supports ADS-B aircraft tracking with a plugin architecture for future data types.",
    "version": "1.0.0"
  },
  "paths": {
    "/api/v1/tak/config": {
      "get": {
        "tags": ["TAK Server"],
        "summary": "Read Tak Config",
        "operationId": "read_tak_config_api_v1_tak_config_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/TakConfigResponse" }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["TAK Server"],
        "summary": "Write Tak Config",
        "operationId": "write_tak_config_api_v1_tak_config_put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/TakConfigUpdate" }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/TakConfigResponse" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/tak/connect": {
      "post": {
        "tags": ["TAK Server"],
        "summary": "Connect Tak",
        "description": "Connect (or reconnect) to the TAK server using the stored config.",
        "operationId": "connect_tak_api_v1_tak_connect_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          }
        }
      }
    },
    "/api/v1/tak/disconnect": {
      "post": {
        "tags": ["TAK Server"],
        "summary": "Disconnect Tak",
        "operationId": "disconnect_tak_api_v1_tak_disconnect_post",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          }
        }
      }
    },
    "/api/v1/tak/status": {
      "get": {
        "tags": ["TAK Server"],
        "summary": "Tak Status",
        "operationId": "tak_status_api_v1_tak_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/TakStatusResponse" }
              }
            }
          }
        }
      }
    },
    "/api/v1/tak/certs": {
      "get": {
        "tags": ["Certificates"],
        "summary": "Get Certs",
        "operationId": "get_certs_api_v1_tak_certs_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": { "$ref": "#/components/schemas/CertInfo" },
                  "type": "array",
                  "title": "Response Get Certs Api V1 Tak Certs Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Certificates"],
        "summary": "Upload Cert",
        "operationId": "upload_cert_api_v1_tak_certs_post",
        "requestBody": {
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_cert_api_v1_tak_certs_post"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CertInfo" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/tak/certs/{cert_id}": {
      "delete": {
        "tags": ["Certificates"],
        "summary": "Remove Cert",
        "operationId": "remove_cert_api_v1_tak_certs__cert_id__delete",
        "parameters": [
          {
            "name": "cert_id",
            "in": "path",
            "required": true,
            "schema": { "type": "string", "title": "Cert Id" }
          }
        ],
        "responses": {
          "204": { "description": "Successful Response" },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/enablement-types": {
      "get": {
        "tags": ["Enablements"],
        "summary": "Get Enablement Types",
        "description": "List all registered enablement plugin types.",
        "operationId": "get_enablement_types_api_v1_enablement_types_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/EnablementTypeInfo"
                  },
                  "type": "array",
                  "title": "Response Get Enablement Types Api V1 Enablement Types Get"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/enablements": {
      "get": {
        "tags": ["Enablements"],
        "summary": "Get Enablements",
        "operationId": "get_enablements_api_v1_enablements_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/EnablementResponse"
                  },
                  "type": "array",
                  "title": "Response Get Enablements Api V1 Enablements Get"
                }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Enablements"],
        "summary": "Post Enablement",
        "operationId": "post_enablement_api_v1_enablements_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/EnablementCreate" }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/EnablementResponse" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/enablements/{enablement_id}": {
      "get": {
        "tags": ["Enablements"],
        "summary": "Get One Enablement",
        "operationId": "get_one_enablement_api_v1_enablements__enablement_id__get",
        "parameters": [
          {
            "name": "enablement_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Enablement Id" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/EnablementResponse" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "put": {
        "tags": ["Enablements"],
        "summary": "Put Enablement",
        "operationId": "put_enablement_api_v1_enablements__enablement_id__put",
        "parameters": [
          {
            "name": "enablement_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Enablement Id" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/EnablementUpdate" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/EnablementResponse" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Enablements"],
        "summary": "Del Enablement",
        "operationId": "del_enablement_api_v1_enablements__enablement_id__delete",
        "parameters": [
          {
            "name": "enablement_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Enablement Id" }
          }
        ],
        "responses": {
          "204": { "description": "Successful Response" },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/enablements/{enablement_id}/start": {
      "post": {
        "tags": ["Enablements"],
        "summary": "Start Enablement",
        "operationId": "start_enablement_api_v1_enablements__enablement_id__start_post",
        "parameters": [
          {
            "name": "enablement_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Enablement Id" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/enablements/{enablement_id}/stop": {
      "post": {
        "tags": ["Enablements"],
        "summary": "Stop Enablement",
        "operationId": "stop_enablement_api_v1_enablements__enablement_id__stop_post",
        "parameters": [
          {
            "name": "enablement_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Enablement Id" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/enablements/{enablement_id}/known-sources": {
      "get": {
        "tags": ["Enablements"],
        "summary": "Known Sources",
        "operationId": "known_sources_api_v1_enablements__enablement_id__known_sources_get",
        "parameters": [
          {
            "name": "enablement_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Enablement Id" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": { "application/json": { "schema": {} } }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/enablements/{enablement_id}/sources": {
      "get": {
        "tags": ["Sources"],
        "summary": "Get Sources",
        "operationId": "get_sources_api_v1_enablements__enablement_id__sources_get",
        "parameters": [
          {
            "name": "enablement_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Enablement Id" }
          }
        ],
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/SourceResponse" },
                  "title": "Response Get Sources Api V1 Enablements  Enablement Id  Sources Get"
                }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "post": {
        "tags": ["Sources"],
        "summary": "Add Source",
        "operationId": "add_source_api_v1_enablements__enablement_id__sources_post",
        "parameters": [
          {
            "name": "enablement_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Enablement Id" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/SourceCreate" }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/SourceResponse" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/enablements/{enablement_id}/sources/{source_id}": {
      "put": {
        "tags": ["Sources"],
        "summary": "Edit Source",
        "operationId": "edit_source_api_v1_enablements__enablement_id__sources__source_id__put",
        "parameters": [
          {
            "name": "enablement_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Enablement Id" }
          },
          {
            "name": "source_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Source Id" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/SourceUpdate" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/SourceResponse" }
              }
            }
          },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      },
      "delete": {
        "tags": ["Sources"],
        "summary": "Remove Source",
        "operationId": "remove_source_api_v1_enablements__enablement_id__sources__source_id__delete",
        "parameters": [
          {
            "name": "enablement_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Enablement Id" }
          },
          {
            "name": "source_id",
            "in": "path",
            "required": true,
            "schema": { "type": "integer", "title": "Source Id" }
          }
        ],
        "responses": {
          "204": { "description": "Successful Response" },
          "422": {
            "description": "Validation Error",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/HTTPValidationError" }
              }
            }
          }
        }
      }
    },
    "/api/v1/status": {
      "get": {
        "tags": ["Status"],
        "summary": "Get Status",
        "operationId": "get_status_api_v1_status_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/StatusResponse" }
              }
            }
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "Body_upload_cert_api_v1_tak_certs_post": {
        "properties": {
          "file": { "type": "string", "format": "binary", "title": "File" }
        },
        "type": "object",
        "required": ["file"],
        "title": "Body_upload_cert_api_v1_tak_certs_post"
      },
      "CertInfo": {
        "properties": {
          "cert_id": { "type": "string", "title": "Cert Id" },
          "filename": { "type": "string", "title": "Filename" }
        },
        "type": "object",
        "required": ["cert_id", "filename"],
        "title": "CertInfo"
      },
      "EnablementCreate": {
        "properties": {
          "type_id": {
            "type": "string",
            "title": "Type Id",
            "description": "Plugin type, e.g. 'adsb' or 'ais'"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "User-friendly label"
          },
          "enabled": { "type": "boolean", "title": "Enabled", "default": true },
          "cot_stale": {
            "type": "integer",
            "title": "Cot Stale",
            "description": "CoT stale time in seconds",
            "default": 300
          },
          "alt_upper": {
            "type": "integer",
            "title": "Alt Upper",
            "description": "Upper altitude filter in feet (0 = disabled)",
            "default": 0
          },
          "alt_lower": {
            "type": "integer",
            "title": "Alt Lower",
            "description": "Lower altitude filter in feet (0 = disabled)",
            "default": 0
          },
          "uid_key": {
            "type": "string",
            "title": "Uid Key",
            "description": "UID key: ICAO, REG, or FLIGHT",
            "default": "ICAO"
          },
          "geo_filter_min_lat": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Geo Filter Min Lat",
            "description": "Bounding box south latitude (-90 to 90); all four required to enable filter"
          },
          "geo_filter_max_lat": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Geo Filter Max Lat",
            "description": "Bounding box north latitude (-90 to 90)"
          },
          "geo_filter_min_lon": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Geo Filter Min Lon",
            "description": "Bounding box west longitude (-180 to 180)"
          },
          "geo_filter_max_lon": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Geo Filter Max Lon",
            "description": "Bounding box east longitude (-180 to 180)"
          }
        },
        "type": "object",
        "required": ["type_id", "name"],
        "title": "EnablementCreate"
      },
      "EnablementResponse": {
        "properties": {
          "id": { "type": "integer", "title": "Id" },
          "type_id": { "type": "string", "title": "Type Id" },
          "name": { "type": "string", "title": "Name" },
          "enabled": { "type": "boolean", "title": "Enabled" },
          "cot_stale": { "type": "integer", "title": "Cot Stale" },
          "alt_upper": { "type": "integer", "title": "Alt Upper" },
          "alt_lower": { "type": "integer", "title": "Alt Lower" },
          "uid_key": { "type": "string", "title": "Uid Key" },
          "geo_filter_min_lat": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Geo Filter Min Lat"
          },
          "geo_filter_max_lat": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Geo Filter Max Lat"
          },
          "geo_filter_min_lon": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Geo Filter Min Lon"
          },
          "geo_filter_max_lon": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Geo Filter Max Lon"
          },
          "running": { "type": "boolean", "title": "Running" },
          "created_at": { "type": "string", "title": "Created At" },
          "updated_at": { "type": "string", "title": "Updated At" },
          "sources": {
            "items": { "$ref": "#/components/schemas/SourceResponse" },
            "type": "array",
            "title": "Sources",
            "default": []
          }
        },
        "type": "object",
        "required": [
          "id",
          "type_id",
          "name",
          "enabled",
          "cot_stale",
          "alt_upper",
          "alt_lower",
          "uid_key",
          "geo_filter_min_lat",
          "geo_filter_max_lat",
          "geo_filter_min_lon",
          "geo_filter_max_lon",
          "running",
          "created_at",
          "updated_at"
        ],
        "title": "EnablementResponse"
      },
      "EnablementStatusItem": {
        "properties": {
          "id": { "type": "integer", "title": "Id" },
          "name": { "type": "string", "title": "Name" },
          "type_id": { "type": "string", "title": "Type Id" },
          "running": { "type": "boolean", "title": "Running" },
          "events_sent": { "type": "integer", "title": "Events Sent" },
          "last_poll_time": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Last Poll Time"
          },
          "last_error": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Last Error"
          },
          "active_items": { "type": "integer", "title": "Active Items" },
          "source_stats": {
            "additionalProperties": true,
            "type": "object",
            "title": "Source Stats"
          }
        },
        "type": "object",
        "required": [
          "id",
          "name",
          "type_id",
          "running",
          "events_sent",
          "last_poll_time",
          "last_error",
          "active_items",
          "source_stats"
        ],
        "title": "EnablementStatusItem"
      },
      "EnablementTypeInfo": {
        "properties": {
          "type_id": { "type": "string", "title": "Type Id" },
          "display_name": { "type": "string", "title": "Display Name" },
          "description": { "type": "string", "title": "Description" }
        },
        "type": "object",
        "required": ["type_id", "display_name", "description"],
        "title": "EnablementTypeInfo"
      },
      "EnablementUpdate": {
        "properties": {
          "name": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Name"
          },
          "enabled": {
            "anyOf": [{ "type": "boolean" }, { "type": "null" }],
            "title": "Enabled"
          },
          "cot_stale": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Cot Stale"
          },
          "alt_upper": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Alt Upper"
          },
          "alt_lower": {
            "anyOf": [{ "type": "integer" }, { "type": "null" }],
            "title": "Alt Lower"
          },
          "uid_key": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Uid Key"
          },
          "geo_filter_min_lat": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Geo Filter Min Lat"
          },
          "geo_filter_max_lat": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Geo Filter Max Lat"
          },
          "geo_filter_min_lon": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Geo Filter Min Lon"
          },
          "geo_filter_max_lon": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Geo Filter Max Lon"
          }
        },
        "type": "object",
        "title": "EnablementUpdate"
      },
      "HTTPValidationError": {
        "properties": {
          "detail": {
            "items": { "$ref": "#/components/schemas/ValidationError" },
            "type": "array",
            "title": "Detail"
          }
        },
        "type": "object",
        "title": "HTTPValidationError"
      },
      "SourceCreate": {
        "properties": {
          "name": {
            "type": "string",
            "title": "Name",
            "description": "Friendly label, e.g. 'adsb.fi-military'"
          },
          "base_url": {
            "type": "string",
            "title": "Base Url",
            "description": "Base API URL"
          },
          "endpoint": {
            "type": "string",
            "enum": ["geo", "point", "mil"],
            "title": "Endpoint",
            "default": "geo"
          },
          "sleep_interval": {
            "type": "number",
            "title": "Sleep Interval",
            "description": "Polling interval in seconds",
            "default": 5.0
          },
          "lat": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Lat",
            "description": "Latitude for geo/point queries"
          },
          "lon": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Lon",
            "description": "Longitude for geo/point queries"
          },
          "distance": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Distance",
            "description": "Radius in nautical miles",
            "default": 25.0
          },
          "enabled": { "type": "boolean", "title": "Enabled", "default": true }
        },
        "type": "object",
        "required": ["name", "base_url"],
        "title": "SourceCreate"
      },
      "SourceResponse": {
        "properties": {
          "id": { "type": "integer", "title": "Id" },
          "enablement_id": { "type": "integer", "title": "Enablement Id" },
          "name": { "type": "string", "title": "Name" },
          "base_url": { "type": "string", "title": "Base Url" },
          "endpoint": { "type": "string", "title": "Endpoint" },
          "sleep_interval": { "type": "number", "title": "Sleep Interval" },
          "lat": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Lat"
          },
          "lon": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Lon"
          },
          "distance": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Distance"
          },
          "enabled": { "type": "boolean", "title": "Enabled" },
          "created_at": { "type": "string", "title": "Created At" }
        },
        "type": "object",
        "required": [
          "id",
          "enablement_id",
          "name",
          "base_url",
          "endpoint",
          "sleep_interval",
          "lat",
          "lon",
          "distance",
          "enabled",
          "created_at"
        ],
        "title": "SourceResponse"
      },
      "SourceUpdate": {
        "properties": {
          "name": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Name"
          },
          "base_url": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Base Url"
          },
          "endpoint": {
            "anyOf": [
              { "type": "string", "enum": ["geo", "point", "mil"] },
              { "type": "null" }
            ],
            "title": "Endpoint"
          },
          "sleep_interval": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Sleep Interval"
          },
          "lat": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Lat"
          },
          "lon": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Lon"
          },
          "distance": {
            "anyOf": [{ "type": "number" }, { "type": "null" }],
            "title": "Distance"
          },
          "enabled": {
            "anyOf": [{ "type": "boolean" }, { "type": "null" }],
            "title": "Enabled"
          }
        },
        "type": "object",
        "title": "SourceUpdate"
      },
      "StatusResponse": {
        "properties": {
          "tak_connected": { "type": "boolean", "title": "Tak Connected" },
          "tak_url": { "type": "string", "title": "Tak Url" },
          "tx_queue_size": { "type": "integer", "title": "Tx Queue Size" },
          "enablements": {
            "items": { "$ref": "#/components/schemas/EnablementStatusItem" },
            "type": "array",
            "title": "Enablements"
          },
          "server_time": { "type": "string", "title": "Server Time" }
        },
        "type": "object",
        "required": [
          "tak_connected",
          "tak_url",
          "tx_queue_size",
          "enablements",
          "server_time"
        ],
        "title": "StatusResponse"
      },
      "TakConfigResponse": {
        "properties": {
          "id": { "type": "integer", "title": "Id" },
          "cot_url": { "type": "string", "title": "Cot Url" },
          "cert_path": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cert Path"
          },
          "cot_host_id": { "type": "string", "title": "Cot Host Id" },
          "dont_check_hostname": {
            "type": "boolean",
            "title": "Dont Check Hostname"
          },
          "dont_verify": { "type": "boolean", "title": "Dont Verify" },
          "max_out_queue": { "type": "integer", "title": "Max Out Queue" },
          "max_in_queue": { "type": "integer", "title": "Max In Queue" },
          "updated_at": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Updated At"
          }
        },
        "type": "object",
        "required": [
          "id",
          "cot_url",
          "cert_path",
          "cot_host_id",
          "dont_check_hostname",
          "dont_verify",
          "max_out_queue",
          "max_in_queue",
          "updated_at"
        ],
        "title": "TakConfigResponse"
      },
      "TakConfigUpdate": {
        "properties": {
          "cot_url": {
            "type": "string",
            "title": "Cot Url",
            "description": "TAK server CoT URL",
            "default": "tls://localhost:8089"
          },
          "cert_path": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cert Path",
            "description": "Path to .p12 cert under data/certs/"
          },
          "cert_password": {
            "anyOf": [{ "type": "string" }, { "type": "null" }],
            "title": "Cert Password",
            "description": "Password for the .p12 certificate"
          },
          "cot_host_id": {
            "type": "string",
            "title": "Cot Host Id",
            "description": "Host ID embedded in CoT events",
            "default": "tak-manager"
          },
          "dont_check_hostname": {
            "type": "boolean",
            "title": "Dont Check Hostname",
            "description": "Skip TLS hostname verification",
            "default": true
          },
          "dont_verify": {
            "type": "boolean",
            "title": "Dont Verify",
            "description": "Skip TLS certificate verification",
            "default": true
          },
          "max_out_queue": {
            "type": "integer",
            "title": "Max Out Queue",
            "description": "Max outbound CoT queue size",
            "default": 1000
          },
          "max_in_queue": {
            "type": "integer",
            "title": "Max In Queue",
            "description": "Max inbound CoT queue size",
            "default": 1000
          }
        },
        "type": "object",
        "title": "TakConfigUpdate"
      },
      "TakStatusResponse": {
        "properties": {
          "connected": { "type": "boolean", "title": "Connected" },
          "url": { "type": "string", "title": "Url" },
          "queue_size": { "type": "integer", "title": "Queue Size" }
        },
        "type": "object",
        "required": ["connected", "url", "queue_size"],
        "title": "TakStatusResponse"
      },
      "ValidationError": {
        "properties": {
          "loc": {
            "items": { "anyOf": [{ "type": "string" }, { "type": "integer" }] },
            "type": "array",
            "title": "Location"
          },
          "msg": { "type": "string", "title": "Message" },
          "type": { "type": "string", "title": "Error Type" },
          "input": { "title": "Input" },
          "ctx": { "type": "object", "title": "Context" }
        },
        "type": "object",
        "required": ["loc", "msg", "type"],
        "title": "ValidationError"
      }
    }
  }
}
